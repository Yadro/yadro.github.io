{"version":3,"sources":["components/simplexMatrix.tsx"],"names":[],"mappings":"AAAA,+CAA+C;;;;;;;;IAK/C,IAAM,cAAc,GAAG,KAAK,CAAC;IAO7B;;OAEG;IACH;QAAmC,iCAA8B;QAE7D,uBAAY,KAAK;YACb,kBAAM,KAAK,CAAC,CAAC;QACjB,CAAC;QAED,8BAAM,GAAN;YACI,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;YACrC,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;YAC5B,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAC5B,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC;gBACtB,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACX,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;wBACjB,MAAM,CAAC,qBAAC,GAAG,IAAC,GAAG,EAAE,CAAE,YAAM,qBAAC,IAAI,IAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,QAAQ,EAAE,EAAE,CAAM,CAAA;oBACvF,CAAC;oBACD,MAAM,CAAC;gBACX,CAAC;gBACD,MAAM,CAAC,CACH,qBAAC,GAAG,IAAC,GAAG,EAAE,CAAE,GACP,YAAY,CAAC,CAAC,EAAE,CAAC,QAAQ,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,QAAQ,GAAG,IAAI,EAAE,SAAS,CAAE,CACrE,CACT,CAAC;YACN,CAAC,CAAC,CAAC;YACH,MAAM,CAAC,CACH,qBAAC,GAAG,SAAE,GAAI,CAAM,CACnB,CAAA;QACL,CAAC;QACL,oBAAC;IAAD,CA3BA,AA2BC,CA3BkC,KAAK,CAAC,SAAS,GA2BjD;IA3BY,qBAAa,gBA2BzB,CAAA;IAED,sBAAsB,MAAM,EAAE,QAAmB,EAAE,SAAU;QACzD,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACvB,IAAI,MAAM,GAAG,MAAM,CAAC,CAAC,EACjB,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAClB,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAClB,MAAM,GAAG,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC;YAEnC,IAAI,KAAK,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC;YAE7B,QAAQ;YACR,OAAO,CAAC,IAAI,CAAC,qBAAC,EAAE,IAAC,GAAG,EAAC,GAAG,EAAM,CAAC,CAAC;YAChC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnC,OAAO,CAAC,IAAI,CAAC,qBAAC,EAAE,IAAC,GAAG,EAAE,CAAC,GAAC,CAAE,GAAE,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAE,CAAK,CAAC,CAAC;YACvD,CAAC;YACD,OAAO,CAAC,IAAI,CAAC,qBAAC,EAAE,IAAC,GAAG,EAAE,CAAC,GAAG,CAAE,OAAO,CAAC,CAAC;YAErC,GAAG,CAAC,CAAC,IAAI,GAAC,GAAG,CAAC,EAAE,GAAC,GAAG,MAAM,CAAC,MAAM,EAAE,GAAC,EAAE,EAAE,CAAC;gBACrC,IAAI,GAAG,GAAG,EAAE,CAAC;gBAEb,iBAAiB;gBACjB,EAAE,CAAC,CAAC,GAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACtB,GAAG,CAAC,IAAI,CAAC,qBAAC,EAAE,IAAC,GAAG,EAAC,GAAG,OAAO,CAAC,CAAC;gBACjC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,GAAG,CAAC,IAAI,CAAC,qBAAC,EAAE,IAAC,GAAG,EAAC,GAAG,GAAE,GAAG,GAAG,CAAC,IAAI,CAAC,GAAC,CAAC,CAAE,CAAK,CAAC,CAAC;gBACjD,CAAC;gBAED,qBAAqB;gBACrB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;oBACpC,IAAI,WAAS,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC;oBAC7E,IAAI,SAAS,GAAG,QAAQ,IAAI,GAAC,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;oBAC1E,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACZ,WAAS,IAAI,QAAQ,CAAC;oBAC1B,CAAC;oBACD,GAAG,CAAC,IAAI,CACJ,qBAAC,EAAE,IAAC,GAAG,EAAE,CAAC,GAAC,CAAE,EACT,SAAS,EAAE,WAAU,EACrB,OAAO,EAAE,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAK,GAAC,SAAI,CAAG,CAAC,GAAG,IAAK,GAC5D,MAAM,CAAC,MAAM,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,EAAG,CACjC,CACR,CAAC;gBACN,CAAC;gBACD,IAAI,WAAS,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC;gBAC9E,KAAK,CAAC,IAAI,CAAC,qBAAC,EAAE,IAAC,GAAG,EAAE,GAAE,EAAC,SAAS,EAAE,WAAU,GAAE,GAAI,CAAK,CAAC,CAAC;YAC7D,CAAC;YACD,OAAO,GAAG,CACN,qBAAC,KAAK,IAAC,SAAS,EAAE,SAAS,GAAG,SAAS,GAAG,EAAG,GACzC,qBAAC,KAAK,SAAC,qBAAC,EAAE,SAAE,OAAQ,CAAK,CAAQ,EACjC,qBAAC,KAAK,SAAE,KAAM,CAAQ,CAClB,CACX,CAAC;QACN,CAAC;QACD,MAAM,CAAC,CACH,qBAAC,GAAG,SACC,MAAM,CAAC,IAAI,GAAG,qBAAC,GAAG,SAAE,MAAM,CAAC,IAAK,CAAM,GAAG,IAAK,EAC9C,MAAM,CAAC,QAAQ;YACZ,oBAAC,uBAAiB,GAAC,QAAQ,EAAE,MAAM,CAAC,QAAS,EAAE;cAC7C,IAAK,EACV,OAAQ,CAEP,CACT,CAAA;IACL,CAAC","file":"components/simplexMatrix.js","sourcesContent":["///<reference path=\"../../typings/index.d.ts\"/>\n\nimport * as React from 'react';\nimport PrintEquationComp from \"./printEquation\";\n\nconst debugSaveMatrx = false;\n\ninterface SimplexP {\n    log: any[];\n    callback: (pos) => any;\n}\n\n/**\n * Класс отвечающий за распечатку матрицы\n */\nexport class SimplexMatrix extends React.Component<SimplexP, any> {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const callback = this.props.callback;\n        const _log = this.props.log;\n        const len = _log.length - 1;\n        const log = _log.map((e, i) => {\n            if (e.backup) {\n                if (debugSaveMatrx) {\n                    return <div key={i}>save <span dangerouslySetInnerHTML={{__html: '&uarr;'}}/></div>\n                }\n                return;\n            }\n            return (\n                <div key={i}>\n                    {matrixToHtml(e, (callback && i === len) ? callback : null, 'simplex')}\n                </div>\n            );\n        });\n        return (\n            <div>{log}</div>\n        )\n    }\n}\n\nfunction matrixToHtml(params, callback?: Function, className?) {\n    let tableEl = null;\n    if (params.m && params.p) {\n        let matrix = params.m,\n            head = params.p[0],\n            left = params.p[1],\n            select = params.select || null;\n\n        let table = [], headArr = [];\n\n        // шапка\n        headArr.push(<td key=\"0\"></td>);\n        for (var i = 0; i < head.length; i++) {\n            headArr.push(<td key={i+1}>{\"x\" + (head[i])}</td>);\n        }\n        headArr.push(<td key={i + 1}>_</td>);\n\n        for (let i = 0; i < matrix.height; i++) {\n            let row = [];\n\n            // первый столбец\n            if (i > left.length - 1) {\n                row.push(<td key=\"0\">p</td>);\n            } else {\n                row.push(<td key=\"0\">{\"x\" + (left[i])}</td>);\n            }\n\n            // остальные элементы\n            for (let j = 0; j < matrix.width; j++) {\n                let className = (select && select[0] == i && select[1] == j) ? 'select' : '';\n                let touchable = callback && i < matrix.height - 1 && j < matrix.width - 1;\n                if (touchable) {\n                    className += ' touch';\n                }\n                row.push(\n                    <td key={j+1}\n                        className={className}\n                        onClick={touchable ? callback.bind(null, `${i}x${j}`) : null}>\n                        {matrix.matrix[i][j].toFraction()}\n                    </td>\n                );\n            }\n            let className = (select && select[0] == i && select[1] == -1) ? 'select' : '';\n            table.push(<tr key={i} className={className}>{row}</tr>);\n        }\n        tableEl = (\n            <table className={className ? className : ''}>\n                <thead><tr>{headArr}</tr></thead>\n                <tbody>{table}</tbody>\n            </table>\n        );\n    }\n    return (\n        <div>\n            {params.text ? <div>{params.text}</div> : null}\n            {params.equation ?\n                <PrintEquationComp equation={params.equation}/>\n                : null}\n            {tableEl}\n            {/*callback ? 'last' : 'no last'*/}\n        </div>\n    )\n}"],"sourceRoot":"/source/"}